/** Drop v6.0.0, by Chris Ferdinandi | http://github.com/cferdinandi/drop | Licensed under MIT: http://gomakethings.com/mit/ */
!function(t,e){"function"==typeof define&&define.amd?define("drop",e(t)):"object"==typeof exports?module.exports=e(t):t.drop=e(t)}(window||this,function(t){"use strict";var e,n={},o=!!document.querySelector&&!!t.addEventListener,c={toggleActiveClass:"active",contentActiveClass:"active",initClass:"js-drop",callbackBefore:function(){},callbackAfter:function(){}},l=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(n,t[o],o,t);else for(var c=0,l=t.length;l>c;c++)e.call(n,t[c],c,t)},s=function(t,e){var n={};return l(t,function(e,o){n[o]=t[o]}),l(e,function(t,o){n[o]=e[o]}),n},r=function(t){for(var e=[],n=t.parentNode.firstChild;n;n=n.nextSibling)1==n.nodeType&&n!=t&&e.push(n);return e},a=function(t,e){for(var n=e.charAt(0);t&&t!==document;t=t.parentNode)if("."===n){if(t.classList.contains(e.substr(1)))return t}else if("#"===n){if(t.id===e.substr(1))return t}else if("["===n&&t.hasAttribute(e.substr(1,e.length-2)))return t;return null};n.toggleDrop=function(t,e){var n=s(n||c,e||{}),o=t.nextElementSibling,a=t.parentNode,i=r(a);n.callbackBefore(t),t.classList.toggle(n.toggleActiveClass),o.classList.toggle(n.contentActiveClass),a.classList.toggle(n.toggleActiveClass),l(i,function(t){var e=t.children;t.classList.remove(n.toggleActiveClass),l(e,function(t){t.classList.remove(n.contentActiveClass)})}),n.callbackAfter(t)},n.closeDrops=function(){var t=document.querySelectorAll("[data-dropdown] > a."+e.toggleActiveClass),n=document.querySelectorAll("[data-dropdown]."+e.toggleActiveClass),o=document.querySelectorAll("[data-dropdown-menu]."+e.contentActiveClass);(t.length>0||n.length>0||o.length>0)&&(e.callbackBefore(),l(t,function(t){t.classList.remove(e.toggleActiveClass)}),l(n,function(t){t.classList.remove(e.toggleActiveClass)}),l(o,function(t){t.classList.remove(e.contentActiveClass)}),e.callbackAfter())};var i=function(t){var o=t.target,c=a(o,"[data-dropdown-menu]");(!c||o===document.documentElement||o.parentNode.hasAttribute("data-dropdown"))&&(o!==document.documentElement&&o.parentNode.hasAttribute("data-dropdown")?(t.preventDefault(),n.toggleDrop(o,e)):n.closeDrops())};return n.destroy=function(){e&&(document.documentElement.classList.remove(e.initClass),document.removeEventListener("click",i,!1),n.closeDrops(),e=null)},n.init=function(t){o&&(n.destroy(),e=s(c,t||{}),document.documentElement.classList.add(e.initClass),document.addEventListener("click",i,!1))},n});