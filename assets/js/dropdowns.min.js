!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.drop=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var t,n={},o=!!document.querySelector&&!!e.addEventListener,s={toggleActiveClass:"is-active",contentActiveClass:"is-active",initClass:"js-drop",callbackBefore:function(){},callbackAfter:function(){}},c=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var s=0,c=e.length;c>s;s++)t.call(n,e[s],s,e)},l=function(e,t){var n={};return c(e,function(t,o){n[o]=e[o]}),c(t,function(e,o){n[o]=t[o]}),n},i=function(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1==n.nodeType&&n!=e&&t.push(n);return t},r=function(e,t){for(var n=t.charAt(0);e&&e!==document;e=e.parentNode)if("."===n){if(e.classList.contains(t.substr(1)))return e}else if("#"===n){if(e.id===t.substr(1))return e}else if("["===n&&e.hasAttribute(t.substr(1,t.length-2)))return e;return null};n.toggleDrop=function(e,t,n){var o=l(o||s,t||{}),r=e.nextElementSibling,a=e.parentNode,u=i(a);o.callbackBefore(e),e.classList.toggle(o.toggleActiveClass),r.classList.toggle(o.contentActiveClass),a.classList.toggle(o.toggleActiveClass),c(u,function(e){var t=e.children;e.classList.remove(o.toggleActiveClass),c(t,function(e){e.classList.remove(o.contentActiveClass)})}),o.callbackAfter(e)},n.closeDrops=function(){var e=document.querySelectorAll(".js-dropdown > a."+t.toggleActiveClass),n=document.querySelectorAll(".js-dropdown."+t.toggleActiveClass),o=document.querySelectorAll(".dropdown."+t.contentActiveClass);(e.length>0||n.length>0||o.length>0)&&(t.callbackBefore(),c(e,function(e){e.classList.remove(t.toggleActiveClass)}),c(n,function(e){e.classList.remove(t.toggleActiveClass)}),c(o,function(e){e.classList.remove(t.contentActiveClass)}),t.callbackAfter())};var a=function(e){var o=e.target,s=r(o,".dropdown");(!s||o===document.documentElement||o.parentNode.classList.contains("js-dropdown"))&&(o!==document.documentElement&&o.parentNode.classList.contains("js-dropdown")?(e.preventDefault(),n.toggleDrop(o,t)):n.closeDrops())};return n.destroy=function(){t&&(document.documentElement.classList.remove(t.initClass),document.removeEventListener("click",a,!1),n.closeDrops(),t=null)},n.init=function(e){o&&(n.destroy(),t=l(s,e||{}),document.documentElement.classList.add(t.initClass),document.addEventListener("click",a,!1))},n}),function(){drop.init()}();